<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>

    <title>{{#data:key/"project.title"}}</title>

    {{#Include:template/"templates.admin.main-css"}}

    <script src="/static/assets/scripts/asset-directory-view.js"></script>
    <link rel="stylesheet" href="/static/assets/css/asset-directory-view.css"/>
</head>
<body>

{{#Include:template/"templates.admin.sidebar"}}
{{#Include:template/"templates.admin.header"}}

<div class="contentArea">
    <div class="well">
      <div class="clearfix"> <!-- ROW -->
        <div style="width: calc(100% - 284px); min-height: 160px; display: inline-block; float: left;">
          <div id="directory-container">

          </div>
        </div>
        <div style="display: inline-block; float: left; padding: 0 10px 10px; margin-left: 20px;">
          <h3 style="font-family: Poppins, sans-serif; background: rgba(239,239,239,1); color: rgb(19, 68, 113); marign-bottom: 10px; margin-top: 0px; padding: 5px 10px; border-radius: 10px;">Preview</h3>
          <div id="preview" style="height: 160px; width: 240px; background: #efefef; border-radius: 10px; position: relative; overflow: hidden; text-align: center; font-size: 100px; vertical-align: middle; line-height: 160px;">

          </div>
        </div>
      </div> <!-- /ROW -->

    </div>
</div>

<script>
  const preview = document.getElementById('preview');
  const directory = document.getElementById('directory-container')
  function onSelect(record) {
      console.log('SELECTED: ', record);
      RB.showAssetPreview(preview, record);
      currentSelection = record;
  }

  RB.runDirectoryView(directory, {
      onSelect: onSelect,
      assetLibraryId: '{{#data:key/assetLibraryId}}'
      // onChoose: onChoose,
      // allowDirectorySelect: attr.allowDirectorySelect,
      // allowedTypes: attr.allowedTypes || [],
  });
</script>

</body>
</html>
